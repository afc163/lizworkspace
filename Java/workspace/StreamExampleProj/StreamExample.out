1: import java.io.*;
2: 
3: public class StreamExample 
4: {
5: 	public static void main(String [] args) throws IOException
6: 	{
7: 		BufferedReader stdin = new BufferedReader(new InputStreamReader(System.in));
8: 		System.out.print("Enter a line: ");
9: 		System.out.println(stdin.readLine());
10: 		stdin.close();
11: 		
12: 		BufferedReader in = new BufferedReader(new FileReader("StreamExample.java"));
13: 		String s;
14: 		String s2 = new String();
15: 		while ((s = in.readLine()) != null)
16: 		{
17: 			s2 += s + "\n";
18: 		}
19: 		in.close();
20: 		
21: 		StringReader inStr = new StringReader(s2);
22: 		int c;
23: 		while ((c = inStr.read()) != -1)
24: 		{
25: 			System.out.print((char)c);
26: 		}
27: 		inStr.close();
28: 		
29: 		try
30: 		{
31: 			BufferedReader inStr2 = new BufferedReader(new StringReader(s2));
32: 			PrintWriter outStr = new PrintWriter(new BufferedWriter(new FileWriter("StreamExample.out")));
33: 			int lineCount = 1;
34: 			while ((s = inStr2.readLine()) != null)
35: 			{
36: 				outStr.println(lineCount++ + ": " + s);
37: 			}
38: 			inStr2.close();
39: 			outStr.close();
40: 		}
41: 		catch (EOFException e)
42: 		{
43: 			System.err.println("流操作非法结果！");
44: 		}
45: 	}
46: }
